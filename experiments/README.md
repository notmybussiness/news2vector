# 검색 정확도 실험 프레임워크

## 실험 개요

- **목표**: 벡터 검색의 정확도 평가 및 최적 파라미터 도출
- **데이터셋**: Milvus `stock_news_v1` 컬렉션 (778개 엔티티)
- **모델**: jhgan/ko-sroberta-multitask (768차원)

## 통제 변인 (Control Variables)

| 변인        | 값                    |
| ----------- | --------------------- |
| 임베딩 모델 | ko-sroberta-multitask |
| 벡터 차원   | 768                   |
| 메트릭 타입 | L2 (Euclidean)        |
| 인덱스 타입 | IVF_FLAT              |
| nlist       | 1024                  |
| nprobe      | 10                    |

## 실험 목록

### EXP-01: 종목명 검색

- **가설**: 종목명 검색 시 해당 종목 관련 뉴스가 상위에 나타난다
- **가변 요인**: 쿼리 (삼성전자, SK하이닉스, 네이버)
- **측정**: Top-5 중 관련 뉴스 비율

### EXP-02: 업종/섹터 검색

- **가설**: 업종 키워드 검색 시 해당 섹터 뉴스가 상위에 나타난다
- **가변 요인**: 쿼리 (반도체, 2차전지, AI, 금융)
- **측정**: Top-5 중 관련 뉴스 비율

### EXP-03: 이벤트/맥락 검색

- **가설**: 이벤트 검색 시 맥락이 유사한 뉴스가 나타난다
- **가변 요인**: 쿼리 (금리 인상, 실적 발표, 주가 하락)
- **측정**: 의미적 유사성 점수

### EXP-04: Top-K 변동

- **가설**: K값 증가에 따라 정밀도는 감소하지만 재현율은 증가
- **가변 요인**: K (3, 5, 10, 20)
- **측정**: 각 K에서의 관련 뉴스 비율

### EXP-05: 거리 임계값 필터링

- **가설**: 낮은 거리(높은 유사도)만 필터링하면 정밀도 향상
- **가변 요인**: 거리 임계값 (0.5, 1.0, 1.5, 2.0)
- **측정**: 임계값별 정밀도/재현율

## 결과 저장 형식

```
experiments/
├── README.md           # 이 파일
├── exp_runner.py       # 실험 실행 스크립트
├── exp01_stock_search/
│   ├── script.py
│   └── results.json
├── exp02_sector_search/
│   ├── script.py
│   └── results.json
...
```
